<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="A fully featured admin theme which can be used to build CRM, CMS, etc.">
        <meta name="author" content="Coderthemes">

        <link rel="shortcut icon" href="assets/images/favicon_1.ico">

        <title>FINN PLANER</title>
        
        <!-- DataTables -->
        <link href="assets/plugins/datatables/jquery.dataTables.min.css" rel="stylesheet" type="text/css" />
        

        <!--Morris Chart CSS -->
		    <link rel="stylesheet" href="assets/plugins/morris/morris.css">

        <link href="assets/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
        <link href="assets/css/core.css" rel="stylesheet" type="text/css" />
        <link href="assets/css/components.css" rel="stylesheet" type="text/css" />
        <link href="assets/css/icons.css" rel="stylesheet" type="text/css" />
        <link href="assets/css/pages.css" rel="stylesheet" type="text/css" />
        <link href="assets/css/responsive.css" rel="stylesheet" type="text/css" />

        <!-- HTML5 Shiv and Respond.js IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        <script src="assets/js/modernizr.min.js"></script>


    </head>


    <body class="fixed-left">

        <!-- Begin page -->
        <div id="wrapper">

            <!-- Top Bar Start -->
            <div class="topbar">

                <!-- LOGO -->
                <div class="topbar-left">
                    <div class="text-center">
                        <a href="index.html" class="logo"><i class="icon-magnet icon-c-logo"></i><span>FINN PLANER</span></a>
                    </div>
                </div>

                <!-- Button mobile view to collapse sidebar menu -->
                <div class="navbar navbar-default" role="navigation">
                    <div class="container">
                        <div class="">
                            <div class="pull-left">
                                <button class="button-menu-mobile open-left">
                                    <i class="ion-navicon"></i>
                                </button>
                                <span class="clearfix"></span>
                            </div>

                            <ul class="nav navbar-nav navbar-right pull-right">
                     
                                <li>
                                	  <a href="page-login.html"><i class="ti-power-off m-r-5"></i><span> Logout </span></a>
                                  
                                </li>
                            </ul>
                        </div>
                        <!--/.nav-collapse -->
                    </div>
                </div>
            </div>
            <!-- Top Bar End -->


            <!-- ========== Left Sidebar Start ========== -->

            <div class="left side-menu">
                <div class="sidebar-inner slimscrollleft">
                    <!--- Divider -->
                    <div id="sidebar-menu">
                        <ul>

                        	<li class="text-muted menu-title">Navigation</li>
							
                            <li>      
                               <a href="index.html" class="waves-effect"><i class="ti-home"></i><span> Dashboard </span></a>
                            </li>
 
                            <li>
                            	    
                                <a href="manage-trips.html" class="waves-effect"><i class="ti-menu-alt"></i><span>Manage Trips</span></a>
                           
                            </li>
                            
                            <li>
                            	    
                                <a href="manage-item.html" class="waves-effect"><i class="ti-crown"></i><span>Manage Items</span></a>
                           
                            </li>
                            
                              <li>
                            	    
                                <a href="manage-user.html" class="waves-effect"><i class="ti-user"></i><span>Manage Users</span></a>
                           
                            </li>
       
                        </ul>
                        <div class="clearfix"></div>
                    </div>
                    <div class="clearfix"></div>
                </div>
            </div>
            <!-- Left Sidebar End -->

           <!-- ============================================================== -->
			<!-- Start right Content here -->
			<!-- ============================================================== -->
			<div class="content-page">
				<!-- Start content -->
				<div class="content">
					<div class="container">

						<!-- Page-Title -->
						<div class="row">
							<div class="col-sm-12">
								<h4 class="page-title">Manage Suggestion Trips</h4>
								<ol class="breadcrumb">
									<li>
										<a href="#">FINN PLANER</a>
									</li>
									<li>
										<a href="#">Manage</a>
									</li>
									<li class="active">
										Manage Trips
									</li>
									<li >
										<a href="create-trips.html"><button type="button" class="btn btn-success waves-effect waves-light">Add Trip</button></a>
									</li>
								</ol>
								
							</div>
						</div>

                        

                        <div class="row">
                            <div class="col-sm-12">
                                <div class="card-box">
                                    <table id="datatable" class="table table-striped table-bordered">
                                            <thead>
                                                <tr>
                                                    <th>Trip ID</th>
                                                    <th>Name</th>
                                                    <th>Control</th>
                                                </tr>
                                            </thead>


                                            <tbody id="listTable">
                                               
                                               
                                            </tbody>
                                        </table>
                                </div>
                            </div>
                        </div>


                    </div> <!-- container -->
                               
                </div> <!-- content -->

                <footer class="footer">
                    2017 Â© Little Dav.
                </footer>

            </div>
            <!-- ============================================================== -->
            <!-- End Right content here -->
            <!-- ============================================================== -->



        </div>
        <!-- END wrapper -->



        <script>
            var resizefunc = [];
        </script>

		<!-- jQuery  -->
        <script src="assets/js/jquery.min.js"></script>
        <script src="assets/js/bootstrap.min.js"></script>
        <script src="assets/js/detect.js"></script>
        <script src="assets/js/fastclick.js"></script>
        <script src="assets/js/jquery.slimscroll.js"></script>
        <script src="assets/js/jquery.blockUI.js"></script>
        <script src="assets/js/waves.js"></script>
        <script src="assets/js/wow.min.js"></script>
        <script src="assets/js/jquery.nicescroll.js"></script>
        <script src="assets/js/jquery.scrollTo.min.js"></script>
        <script src="assets/plugins/datatables/jquery.dataTables.min.js"></script>
        <script src="assets/plugins/datatables/dataTables.bootstrap.js"></script>

        <script src="assets/js/jquery.core.js"></script>
        <script src="assets/js/jquery.app.js"></script>




        <script type="text/javascript">
            $(document).ready(function() {
                $('#datatable').dataTable();
                
                $.ajax({
					url : "../listAllSuggestedTrips",
					type : "GET",
					dataType : "JSON",		
					contentType : "application/json",
					mimeType : "application/json",
					success : function(data) {
						var html = '';
						for (var i = 0; i < data.length; i++) {
							 html += "<tr>";
                             html += "<td>"+(i+1)+"</td>";
                             html += "<td>"+data[i].name+"</td>";
                             html += "<td>";
                             html += "<button onclick=\"manageToDo('"+data[i].keyString+"')\" type=\"button\" class=\"btn btn-info waves-effect waves-light\">";
                             html += "<span class=\"btn-label\"><i class=\"fa fa-exclamation\"></i>";
                             html += "</span>Manage To Do List</button>";
                             html += "<button onclick=\"updateTrips('"+data[i].keyString+"','"+data[i].name+"')\" class=\"btn btn-icon waves-effect waves-light btn-warning\"> <i class=\"fa fa-wrench\"></i> </button>";
                             html += "<button onclick=\"removeTrips('"+data[i].keyString+"')\" class=\"btn btn-icon waves-effect waves-light btn-danger\"> <i class=\"fa fa-remove\"></i> </button>";
                             html += "</td>";
                         	 html += "</tr>";
							
						}
					
						$('#listTable').html(html);
						$('#datatable').dataTable();
						
					},
					error : function(data, status, er) {
						alert('error');
						$("#loader").hide();
					}
				});
            } );
            
            function removeTrips(tripKey) {
				$.ajax({
					url : "../deleteSuggestedTrips?key="+tripKey,
					type : "GET",
					dataType : "JSON",
					contentType : "application/json",
					mimeType : "application/json",
					success : function(data) {
						alert('Delete success');
					},
					error : function(data, status, er) {
						alert('error');
					}
				});
		}
			
            function manageToDo(key) {
            	writeCookie("suggTripKeyToDo",key,1);
            	document.location.href = "manage-todo.html";
			}
            
            function updateTrips(key,name) {
            	writeCookie("tripKey",key,1);
            	writeCookie("tripName",name,1);
            	document.location.href = "update-trips.html";
			}
            
            function writeCookie(name, value, days) {
    			var date, expires;
    			if (days) {
    				date = new Date();
    				date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
    				expires = "; expires=" + date.toGMTString();
    			} else {
    				expires = "";
    			}
    			document.cookie = name + "=" + value + expires + "; path=/";

    		}
            
            
            function readCookie(name) {
    			var i, c, ca, nameEQ = name + "=";
    			ca = document.cookie.split(';');
    			for (i = 0; i < ca.length; i++) {
    				c = ca[i];
    				while (c.charAt(0) == ' ') {
    					c = c.substring(1, c.length);
    				}
    				if (c.indexOf(nameEQ) == 0) {
    					return c.substring(nameEQ.length, c.length);
    				}
    			}
    			return '';
    		}
        </script>



    </body>
</html>